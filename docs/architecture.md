# 系统架构

## 整体架构

```
┌─────────────────────────────────────────────────────────┐
│                     Web界面 (Vue.js)                      │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│                     API层 (FastAPI)                       │
└─────────────────────────────────────────────────────────┘
                            │
        ┌───────────────────┼───────────────────┐
        ▼                   ▼                   ▼
┌───────────────┐   ┌───────────────┐   ┌───────────────┐
│   策略层       │   │   执行层       │   │   风险管理    │
│ StrategyManager│   │ OrderExecutor │   │ RiskManager  │
└───────────────┘   └───────────────┘   └───────────────┘
        │                   │                   │
        └───────────────────┼───────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│                     数据层                                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│  │ DataSource  │  │ Processors  │  │  Storage    │     │
│  └─────────────┘  └─────────────┘  └─────────────┘     │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│                   交易所 (Binance)                        │
└─────────────────────────────────────────────────────────┘
```

## 核心模块

### 1. Core（核心层）
- config: 配置管理
- logger: 日志系统
- database: 数据库操作
- events: 事件系统
- exceptions: 异常定义

### 2. Data（数据层）
- sources: 数据源（交易所接口）
- processors: 数据处理（技术指标）
- storage: 数据存储

### 3. Strategies（策略层）
- base: 策略基类
- manager: 策略管理器
- crypto: 加密货币策略

### 4. Risk（风险管理）
- PositionManager: 仓位管理
- RiskManager: 风险控制

### 5. Execution（执行层）
- OrderExecutor: 订单执行

### 6. Backtest（回测）
- BacktestEngine: 回测引擎

### 7. API（接口层）
- FastAPI服务器
- RESTful接口
